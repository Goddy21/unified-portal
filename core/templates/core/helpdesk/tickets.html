{% extends "base.html" %}
{% load static %}

{% block title %}Tickets{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/tickets.css' %}">
{% endblock %}

{% block content %}
<div class="tickets-container">
  <div class="section-header">
    <h2>ðŸŽ« Tickets</h2>
    <p>This is the ticket management interface. You can view, filter, and manage support tickets here.</p>
  </div>

  <div class="ticket-actions">
    <button class="btn btn-primary" id="create_ticket">Create New Ticket</button>
    <input type="text" class="ticket-search" placeholder="Search tickets..." />
  </div>

  <div class="ticket-table-wrapper">
    <table class="ticket-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Subject</th>
          <th>Created</th>
          <th>Problem Category</th>
          <th>Status</th>
          <th>Priority</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>#123</td>
          <td>Unable to access file</td>
          <td>2025-06-25</td>
          <td>Network Issue</td>
          <td><span class="badge badge-open">Open</span></td>
          <td><span class="badge badge-high">High</span></td>
          <td><a href="#" class="view-link">View</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function(){
    const ticketBtn = document.getElementById('create_ticket');
    if (ticketBtn){
      ticketBtn.addEventListener('click', function(){
        window.location.href = "{% url 'create_ticket' %}";
      });
    }
  });
</script>
{% endblock %}