{% extends "files_base.html" %}
{% load static %}

{% block title %}Registered Users{% endblock %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/user_list.css' %}">
{% endblock %}

{% block content %}
<h2 class="page-title">ðŸ‘¥ Registered Users</h2>

<div class="table-container">
  <table class="user-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
      <tr>
        <td data-label="Name">{{ user.username }}</td>
        <td data-label="Email">{{ user.email }}</td>
        <td data-label="Role">
          <span class="badge {% if user.is_superuser %}admin{% else %}operator{% endif %}">
            {% if user.is_superuser %}Admin{% else %}Operator{% endif %}
          </span>
        </td>
        <td data-label="Status">
          <span class="badge {% if user.is_active %}active{% else %}inactive{% endif %}">
            {{ user.is_active|yesno:"Active,Inactive" }}
          </span>
        </td>
        <td data-label="Actions" class="actions">
          <a href="{% url 'user_detail' user.id %}" class="btn view">View</a>
          <a href="{% url 'edit_user' user.id %}" class="btn edit">Edit</a>
          <a href="{% url 'delete_user' user.id %}" class="btn delete" onclick="return confirm('Are you sure you want to delete this user?');">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
